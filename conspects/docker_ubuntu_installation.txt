Щоб встановити Docker версії 19.03.15 на Ubuntu 20.04, виконайте наступні кроки:

Видалення старих версій Docker (якщо вони встановлені):

sudo apt-get remove docker docker-engine docker.io containerd runc
Оновлення пакетного менеджера APT та встановлення необхідних пакетів:

--- ✄ -------------------------

sudo apt-get update
sudo apt-get install -y apt-transport-https ca-certificates curl gnupg-agent software-properties-common
Додавання офіційного ключа Docker GPG:

--- ✄ -------------------------

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
Додавання репозиторія Docker:

--- ✄ -------------------------

sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
Оновлення пакетного менеджера та встановлення Docker:

--- ✄ -------------------------

sudo apt-get update
sudo apt-get install -y docker-ce=5:19.03.15~3-0~ubuntu-focal docker-ce-cli=5:19.03.15~3-0~ubuntu-focal containerd.io
Перевірка встановленої версії Docker:

--- ✄ -------------------------

docker --version
Це повинно встановити Docker версії 19.03.15 на вашу систему Ubuntu 20.04.

--- ✄ -------------------------

3. Додавання офіційного ключа Docker GPG:
Docker надає свій репозиторій пакетів для Ubuntu, і щоб забезпечити безпеку та цілісність завантажуваних пакетів, вони використовують GPG (GNU Privacy Guard) для підпису. Це дозволяє системі перевірити, що пакети насправді були вироблені Docker і не були змінені третіми сторонами під час завантаження.

Команда curl завантажує офіційний ключ Docker GPG, а команда sudo apt-key add - додає цей ключ до списку ключів APT, які використовуються для перевірки підписів пакетів.



4. Додавання репозиторія Docker:
Цей крок відповідає за додавання офіційного репозиторію Docker до системи APT. Після додавання репозиторію, ваш пакетний менеджер буде знати, де шукати пакети Docker для встановлення.

Команда sudo add-apt-repository використовується для додавання нових репозиторіїв до списку джерел пакетів APT. У цьому випадку ми додаємо репозиторій Docker, який вказує на стабільний канал (stable) для вашої версії Ubuntu (отримуємо код версії за допомогою $(lsb_release -cs)).



5. Оновлення пакетного менеджера та встановлення Docker:
Після додавання репозиторія, ми повинні оновити інформацію про пакети у вашій системі, щоб APT знав про нові пакети Docker. Коли це виконано, ми можемо встановити Docker.

У цьому кроці:

sudo apt-get update: Оновлює інформацію про пакети. APT звертається до всіх джерел пакетів, які він знає, і отримує актуальну інформацію про доступні пакети та їхні версії.

sudo apt-get install ...: Це команда для встановлення пакетів. Тут ми вказуємо APT встановити конкретні версії пакетів Docker.